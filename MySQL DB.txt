CREATE DATABASE geek_text;

CREATE TABLE `GT_SHOPPING_CART` (
  `UserID` INT,
  `BookID` INT,
  `Quantity` INT,
  `IsSFL` BIT,
  KEY `FK` (`UserID`, `BookID`)
);

CREATE TABLE `GT_PUBLISHERS` (
  `PublisherID` INT,
  `PublisherName` VARCHAR(255),
  `PublisherDescription` VARCHAR(2000),
  PRIMARY KEY (`PublisherID`)
);

CREATE TABLE `GT_BOOKS` (
  `BookID` INT,
  `BookTitle` VARCHAR(255),
  `BookDescription` VARCHAR(2000),
  `BookRatingID` INT,
  `AuthorID` INT,
  `PublisherID` INT,
  `ReleaseDate` DATE,
  `Genre` VARCHAR(20),
  `Price` NUMERIC(16,2),
  `BookCover` VARCHAR(200),
  PRIMARY KEY (`BookID`),
  KEY `FK` (`BookRatingID`, `AuthorID`, `PublisherID`)
);

CREATE TABLE `GT_USERS` (
  `UserID` INT,
  `UserName` VARCHAR(50),
  `Hash` VARCHAR(2000),
  `Salt` VARCHAR(2000),
  PRIMARY KEY (`UserID`, `UserName`)
);

CREATE TABLE `GT_AUTHORS` (
  `AuthorID` INT,
  `AuthorName` VARCHAR(50),
  `AuthorBio` VARCHAR(2000),
  PRIMARY KEY (`AuthorID`)
);

CREATE TABLE `GT_BOOK_RATINGS` (
  `BookRatingID` INT,
  `BookID` INT,
  `RatingValue` NUMERIC(5,2),
  PRIMARY KEY (`BookRatingID`),
  KEY `FK` (`BookID`)
);

CREATE TABLE `GT_BOOK_RATING_DETAILS` (
  `IndividualRatingID` INT,
  `BookRatingID` INT,
  `UserName` VARCHAR(50),
  `IndividualRatingValue` INT,
  `IndividualRatingComment` VARCHAR(255),
  PRIMARY KEY (`IndividualRatingID`),
  KEY `FK` (`BookRatingID`, `UserName`)
);


